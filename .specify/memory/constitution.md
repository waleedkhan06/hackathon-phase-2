<!-- SYNC IMPACT REPORT
Version change: N/A → 1.0.0
Modified principles: N/A (new constitution)
Added sections: All principles and sections
Removed sections: N/A
Templates requiring updates:
  - .specify/templates/plan-template.md ✅ updated
  - .specify/templates/spec-template.md ✅ updated
  - .specify/templates/tasks-template.md ✅ updated
  - .specify/templates/commands/*.md ⚠ pending
Follow-up TODOs: None
-->
# Todo Full-Stack Application Constitution
<!-- Example: Spec Constitution, TaskFlow Constitution, etc. -->

## Core Principles

### Agentic Dev Stack Workflow
Follow the Agentic Dev Stack workflow strictly — no exceptions: 1. Write / refine Specification → (use spec-writer agent or manual spec review), 2. Generate Plan / Architecture, 3. Break into small atomic tasks, 4. Implement exclusively via Claude Code generation (no manual coding allowed), 5. Iterate, test, refine. All code must be generated by Claude. Manual edits are prohibited.

### Multi-User Data Isolation
Strict user data isolation - each user only sees/modifies their own tasks. Every protected API endpoint MUST verify JWT token, extract user_id from token payload['sub'], compare with user_id in URL path → 403 Forbidden if mismatch, every database query MUST filter by user_id = authenticated user_id.

### Security-First Architecture
Implement security from the ground up: JWT authentication with Better Auth, token verification on all protected routes, proper CORS configuration, secure environment variables, and protection against common vulnerabilities.

### Modern Tech Stack Adherence
Use the mandated technology stack: Next.js 16+ (App Router), TypeScript (strict mode), Tailwind CSS, FastAPI, SQLModel, Python 3.11+, Neon Serverless PostgreSQL, and Better Auth with JWT.

### Monorepo Structure Compliance
Maintain the mandated monorepo structure with proper separation of concerns: frontend/, backend/, specs/, agents/, and shared configurations.

### Test-First Development
All features must be developed with appropriate testing: unit tests for pure functions, integration tests for API endpoints, and end-to-end tests for critical user flows.

## Technology Stack Requirements
Frontend: Next.js 16+ (App Router), TypeScript (strict mode), Tailwind CSS, Better Auth (with JWT plugin). Backend: FastAPI, SQLModel (ORM), Python 3.11+, PyJWT (for token verification). Database: Neon Serverless PostgreSQL with DATABASE_URL environment variable. Authentication: Better Auth with shared BETTER_AUTH_SECRET, HS256 algorithm, JWT verification extracting user_id from 'sub' claim.

## Development Workflow
Specification → Plan → Tasks → Implementation → Testing → Refinement. Use the agent system: coordinator, spec-writer, frontend, backend-core, database, auth, and api-endpoints agents for respective responsibilities.

## Governance
All code must be generated through Claude Code agents, no manual coding allowed. Reference relevant spec or agent files when implementing. Follow the Agentic Dev Stack workflow strictly. Amendments require documentation and team approval.

**Version**: 1.0.0 | **Ratified**: 2026-02-05 | **Last Amended**: 2026-02-05
<!-- Example: Version: 2.1.1 | Ratified: 2025-06-13 | Last Amended: 2025-07-16 -->